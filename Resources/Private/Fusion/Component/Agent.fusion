prototype(Sitegeist.Bitzer:Component.Agent) < prototype(Neos.Fusion:Component) {
    agents = ${[]}
    constraintCheckResult = null
    command = null

    @context {
        labels = ${Bitzer.Labels.forAgentComponent()}
    }

    renderer = afx`
        <fieldset class="neos-span5">
            <legend>{q(labels).get('task.agent.label')}</legend>
            <div class="neos-control-group">
                <label class="neos-control-label" for="title">{q(labels).get('task.agent.label')}*</label>
                <div class="neos-controls neos-controls-row">
                    <select id="agent" name="moduleArguments[agent]">
                        <Neos.Fusion:Loop items={props.agents} itemName="agent">
                            <option @if.isAssigned={props.command.agent.identifier.equals(agent.identifier)} value={agent.identifier.string} selected="selected">{agent.label}</option>
                            <option @if.isNotAssigned={!props.command.agent.identifier.equals(agent.identifier)} value={agent.identifier.string}>{agent.label}</option>
                        </Neos.Fusion:Loop>
                    </select>
                </div>
            </div>
        </fieldset>
    `
}
